<div style="text-align: center;">
<h1>Almac√©n</h1>
<h3>Inventario de Angular Games</h3>

<br>

  <button routerLink="/nuevoProducto">NUEVO PRODUCTO</button><button (click)="cambiarStock()">STOCK</button>
  <div *ngIf="stock">
    <div class="grid-container">
    <div class="row">
      <div class="col">
    Elige el juego <select [(ngModel)]="nombreJuego">
      <option *ngFor="let item of almacenFiltro" value="{{item.nombre}}">{{item.nombre}}</option>
    </select>
    </div>
    <div class="col">
    <!--Cantidad de Stock <input type="number" [(ngModel)]="cantidad"><button (click)="addStock()">FIJAR STOCK</button><button (click)="ngOnInit()">Actualizar</button> -->
    </div>
    </div>
  </div>
  </div>
  Elige el FILTRO <select [(ngModel)]="filtroElegido" selected="todos" (change)="cambioAlmacen(filtroElegido)">
    <option value="todos"  >TODO</option>
    <option value="filtroBajo">BAJO STOCK</option>
    <option value="filtroMedio">MEDIO STOCK</option>
  </select>
  <button (click)="actualizar()">CONFIRMAR STOCK</button>


  <div *ngIf="filtroElegido=='todos'">
  <table class="table">
    <thead>
      <tr><th scope="col">NOMBRE</th><th scope="col">TIPO</th><th >CANTIDAD</th><br>
      </tr>
    </thead>
    <tbody>
    <tr *ngFor="let p of almacenDB">
      <td *ngIf="p.cantidad<=3" class="table-danger" >{{p.nombre}}</td>
        <td *ngIf="p.cantidad>3&&p.cantidad<=7" class="table-warning" >{{p.nombre}}</td>
        <td *ngIf="p.cantidad>7" class="table-success">{{p.nombre}}</td>
        <td *ngIf="p.cantidad<=3" class="table-danger" >{{p.tipo}}</td>
        <td *ngIf="p.cantidad>3&&p.cantidad<=7" class="table-warning" >{{p.tipo}}</td>
        <td *ngIf="p.cantidad>7" class="table-success">{{p.tipo}}</td>
        <td *ngIf="p.cantidad<=3" class="table-danger"><input type="number" [(ngModel)]="p.cantidad" (change)="guardarStock(p.nombre,p.cantidad)"></td>
        <td *ngIf="p.cantidad>3&&p.cantidad<=7" class="table-warning" style="width:min-content;"><input type="number" [(ngModel)]="p.cantidad" (change)="guardarStock(p.nombre,p.cantidad)"></td>
        <td *ngIf="p.cantidad>7" class="table-success"><input type="number" [(ngModel)]="p.cantidad" (change)="guardarStock(p.nombre,p.cantidad)"></td>
    </tr>
    </tbody>
  </table>
  </div>
  <div *ngIf="filtroElegido=='filtroBajo'">
    <table class="table">
      <thead>
        <tr><th scope="col">NOMBRE</th><th scope="col">TIPO</th><th >CANTIDAD</th><br>
        </tr>
      </thead>
      <tbody>
      <tr *ngFor="let p of almacenDBBajo">
        <td *ngIf="p.cantidad<=3" class="table-danger" >{{p.nombre}}</td>
          <td *ngIf="p.cantidad>3&&p.cantidad<=7" class="table-warning" >{{p.nombre}}</td>
          <td *ngIf="p.cantidad>7" class="table-success">{{p.nombre}}</td>
          <td *ngIf="p.cantidad<=3" class="table-danger" >{{p.tipo}}</td>
          <td *ngIf="p.cantidad>3&&p.cantidad<=7" class="table-warning" >{{p.tipo}}</td>
          <td *ngIf="p.cantidad>7" class="table-success">{{p.tipo}}</td>
          <td *ngIf="p.cantidad<=3" class="table-danger"><input type="number" [(ngModel)]="p.cantidad" (change)="guardarStock(p.nombre,p.cantidad)"></td>
          <td *ngIf="p.cantidad>3&&p.cantidad<=7" class="table-warning" style="width:min-content;"><input type="number" [(ngModel)]="p.cantidad" (change)="guardarStock(p.nombre,p.cantidad)"></td>
          <td *ngIf="p.cantidad>7" class="table-success"><input type="number" [(ngModel)]="p.cantidad" (change)="guardarStock(p.nombre,p.cantidad)"></td>
        </tr>
      </tbody>
    </table>
    </div>
    <div *ngIf="filtroElegido=='filtroMedio'">
      <table class="table">
        <thead>
          <tr><th scope="col">NOMBRE</th><th scope="col">TIPO</th><th >CANTIDAD</th><br>
          </tr>
        </thead>
        <tbody>
        <tr *ngFor="let p of almacenDBMedio">
          <td *ngIf="p.cantidad<=3" class="table-danger" >{{p.nombre}}</td>
            <td *ngIf="p.cantidad>3&&p.cantidad<=7" class="table-warning" >{{p.nombre}}</td>
            <td *ngIf="p.cantidad>7" class="table-success">{{p.nombre}}</td>
            <td *ngIf="p.cantidad<=3" class="table-danger" >{{p.tipo}}</td>
            <td *ngIf="p.cantidad>3&&p.cantidad<=7" class="table-warning" >{{p.tipo}}</td>
            <td *ngIf="p.cantidad>7" class="table-success">{{p.tipo}}</td>
            <td *ngIf="p.cantidad<=3" class="table-danger"><input type="number" [(ngModel)]="p.cantidad" (change)="guardarStock(p.nombre,p.cantidad)"></td>
            <td *ngIf="p.cantidad>3&&p.cantidad<=7" class="table-warning" style="width:min-content;"><input type="number" [(ngModel)]="p.cantidad" (change)="guardarStock(p.nombre,p.cantidad)"></td>
            <td *ngIf="p.cantidad>7" class="table-success"><input type="number" [(ngModel)]="p.cantidad" (change)="guardarStock(p.nombre,p.cantidad)"></td>
              </tr>
        </tbody>
      </table>
      <button (click)="actualizar()">CONFIRMAR STOCK</button>
      </div>


  </div>





